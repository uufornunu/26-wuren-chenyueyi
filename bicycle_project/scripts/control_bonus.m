% 车辆参数设置
m = 1500;       % 质量(kg)
Iz = 1100;      % 转动惯量(kg·m²)
Cf = 80000;     % 前轮侧偏刚度(N/rad)
Cr = 70000;     % 后轮侧偏刚度(N/rad)
lf = 1.2;       % 前轴到质心距离(m)
lr = 1.2;       % 后轴到质心距离(m)
vx = 10;        % 纵向速度(m/s)

% 状态空间矩阵计算
A = [0, 1, 0, 0;
     0, -(Cf+Cr)/(m*vx), (Cf+Cr)/m, (-Cf*lf+Cr*lr)/(m*vx);
     0, 0, 0, 1;
     0, (-Cf*lf+Cr*lr)/(Iz*vx), (Cf*lf-Cr*lr)/Iz, -(Cf*lf^2+Cr*lr^2)/(Iz*vx)];

B = [0; 
     Cf/m;
     0;
     Cf*lf/Iz];
%以上数据我通过学习AI学习后给出

% LQR权重矩阵设计
Q = diag([10, 0.05, 5, 0.05]);    % 状态权重 [横向误差, 横向速率, 航向角误差, 航向角变化率]
R = 50;                      % 控制输入权重（前轮转角）

% 计算LQR增益矩阵
K = lqr(A, B, Q, R);

C=eye(4);
D=zeros(4,1);